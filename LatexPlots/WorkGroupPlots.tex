\usepgfplotslibrary{fillbetween}

\section{Work Group}



Work group of 32x32 (2025 data points). A work group is a 32 x 32 chunk of rays and we calculate the average, max and variance for leafs and nodes. 

Wisker plot. Blue area is the average plus and minus the standard deviation. Middle black line is the median, thin black lines are min and max. Its sorted by the median.
\pgfplotsset{
	every axis/.append style={colorbar = false},
}

\iffalse
\begin{minipage}[t]{0.9\textwidth}
	\begin{tikzpicture}
	\begin{axis}
	[
	%view={90}{0} for x, view={0}{0} for y restriction
	view={0}{0},
	xlabel = max node intersections,
	ylabel = standard deviation,
	cycle list name = linestyles*,
	legend style={at={(0.05,0.95)}, anchor = north west},
	%xtick = {4, 8, ..., 16},
	%xticklabels={$8$,$16$,$24$,$32$,$40$,$48$,$56$,$64$,$72$,$80$,$88$,$96$,$104$,$112$,$120$,$128$},
	]
	\addplot+[mark=square*, only marks, mark options={scale=0.2},scatter, scatter/use mapped color= {draw opacity = 0}, opacity = 0.2]table[x = nodeMax, y = nodeStandardDeviation, col sep=comma]{Data/amazonLumberyardInterior_b4_l4_WorkGroupDepthInfo.txt};			
	
%	\legend{L4, L8, L12, L16}
	\end{axis}
	\end{tikzpicture}
\end{minipage}


\begin{minipage}[t]{0.9\textwidth}
	\begin{tikzpicture}
	\begin{axis}
	[
	%view={90}{0} for x, view={0}{0} for y restriction
	view={0}{0},
	xlabel = max leaf intersections,
	ylabel = standard deviation,
	cycle list name = linestyles*,
	legend style={at={(0.05,0.95)}, anchor = north west},
	%xtick = {4, 8, ..., 16},
	%xticklabels={$8$,$16$,$24$,$32$,$40$,$48$,$56$,$64$,$72$,$80$,$88$,$96$,$104$,$112$,$120$,$128$},
	]
	\addplot[only marks,mark=square*, mark options={scale=0.5},scatter, scatter/use mapped color= {draw opacity = 0}, opacity = 0.1] table[x = leafMax, y = leafStandardDeviation, col sep=comma]{Data/amazonLumberyardInterior_b4_l4_WorkGroupDepthInfo.txt};			
	
	%	\legend{L4, L8, L12, L16}
	\end{axis}
	\end{tikzpicture}
\end{minipage}
\fi



\begin{minipage}[t]{1.1\textwidth}
	\begin{tikzpicture}
	\begin{axis}
	[
	%view={90}{0} for x, view={0}{0} for y restriction
	view={0}{0},
	xlabel = N4L4 node intersections,
%	ylabel = standard deviation,
	smooth,
	enlarge x limits=false,
	xmajorticks=false,
	no markers
	]
	\addplot+ [color = black, thick] table[x = id, y = median, col sep=comma]{Data/amazonLumberyardInterior_b4_l4_NodeWorkGroupWiskerPlot.txt};
	\addplot+ [color = blue, opacity = 0.3, name path=test1] table[x = id, y = lowerStdDeviation, col sep=comma]{Data/amazonLumberyardInterior_b4_l4_NodeWorkGroupWiskerPlot.txt};
	\addplot+ [color = blue, opacity = 0.3, name path=test2] table[x = id, y = upperStdDeviation, col sep=comma]{Data/amazonLumberyardInterior_b4_l4_NodeWorkGroupWiskerPlot.txt};
	\addplot+ [color = black, opacity = 0.5] table[x = id, y = min, col sep=comma]{Data/amazonLumberyardInterior_b4_l4_NodeWorkGroupWiskerPlot.txt};
	\addplot+ [color = black, opacity = 0.5] table[x = id, y = max, col sep=comma]{Data/amazonLumberyardInterior_b4_l4_NodeWorkGroupWiskerPlot.txt};

	\addplot [
	fill=blue, 
	fill opacity=0.5
	]
	fill between[
	of=test1 and test2,
	];
	
	%	\legend{L4, L8, L12, L16}
	\end{axis}
	\end{tikzpicture}
\end{minipage}

\begin{minipage}[t]{1.1\textwidth}
	\begin{tikzpicture}
	\begin{axis}
	[
	%view={90}{0} for x, view={0}{0} for y restriction
	view={0}{0},
	xlabel = N4L4 leaf intersections,
%	ylabel = standard deviation,
	smooth,
	enlarge x limits=false,
	xmajorticks=false,
	no markers
	]
	\addplot+ [color = black, thick] table[x = id, y = median, col sep=comma]{Data/amazonLumberyardInterior_b4_l4_LeafWorkGroupWiskerPlot.txt};
	\addplot+ [color = blue, opacity = 0.3, name path=test1] table[x = id, y = lowerStdDeviation, col sep=comma]{Data/amazonLumberyardInterior_b4_l4_LeafWorkGroupWiskerPlot.txt};
	\addplot+ [color = blue, opacity = 0.3, name path=test2] table[x = id, y = upperStdDeviation, col sep=comma]{Data/amazonLumberyardInterior_b4_l4_LeafWorkGroupWiskerPlot.txt};
	\addplot+ [color = black, opacity = 0.5] table[x = id, y = min, col sep=comma]{Data/amazonLumberyardInterior_b4_l4_LeafWorkGroupWiskerPlot.txt};
	\addplot+ [color = black, opacity = 0.5] table[x = id, y = max, col sep=comma]{Data/amazonLumberyardInterior_b4_l4_LeafWorkGroupWiskerPlot.txt};
	
	\addplot [
	fill=blue, 
	fill opacity=0.5
	]
	fill between[
	of=test1 and test2,
	];
	
	%	\legend{L4, L8, L12, L16}
	\end{axis}
	\end{tikzpicture}
\end{minipage}

\begin{minipage}[t]{1.1\textwidth}
	\begin{tikzpicture}
	\begin{axis}
	[
	%view={90}{0} for x, view={0}{0} for y restriction
	view={0}{0},
	xlabel = N8L8 node intersections,
	%	ylabel = standard deviation,
	smooth,
	enlarge x limits=false,
	xmajorticks=false,
	no markers
	]
	\addplot+ [color = black, thick] table[x = id, y = median, col sep=comma]{Data/amazonLumberyardInterior_b8_l8_NodeWorkGroupWiskerPlot.txt};
	\addplot+ [color = blue, opacity = 0.3, name path=test1] table[x = id, y = lowerStdDeviation, col sep=comma]{Data/amazonLumberyardInterior_b8_l8_NodeWorkGroupWiskerPlot.txt};
	\addplot+ [color = blue, opacity = 0.3, name path=test2] table[x = id, y = upperStdDeviation, col sep=comma]{Data/amazonLumberyardInterior_b8_l8_NodeWorkGroupWiskerPlot.txt};
	\addplot+ [color = black, opacity = 0.5] table[x = id, y = min, col sep=comma]{Data/amazonLumberyardInterior_b8_l8_NodeWorkGroupWiskerPlot.txt};
	\addplot+ [color = black, opacity = 0.5] table[x = id, y = max, col sep=comma]{Data/amazonLumberyardInterior_b8_l8_NodeWorkGroupWiskerPlot.txt};
	
	\addplot [
	fill=blue, 
	fill opacity=0.5
	]
	fill between[
	of=test1 and test2,
	];
	
	%	\legend{L4, L8, L12, L16}
	\end{axis}
	\end{tikzpicture}
\end{minipage}

\begin{minipage}[t]{1.1\textwidth}
	\begin{tikzpicture}
	\begin{axis}
	[
	%view={90}{0} for x, view={0}{0} for y restriction
	view={0}{0},
	xlabel = N8L8 leaf intersections,
	%	ylabel = standard deviation,
	smooth,
	enlarge x limits=false,
	xmajorticks=false,
	no markers
	]
	\addplot+ [color = black, thick] table[x = id, y = median, col sep=comma]{Data/amazonLumberyardInterior_b8_l8_LeafWorkGroupWiskerPlot.txt};
	\addplot+ [color = blue, opacity = 0.3, name path=test1] table[x = id, y = lowerStdDeviation, col sep=comma]{Data/amazonLumberyardInterior_b8_l8_LeafWorkGroupWiskerPlot.txt};
	\addplot+ [color = blue, opacity = 0.3, name path=test2] table[x = id, y = upperStdDeviation, col sep=comma]{Data/amazonLumberyardInterior_b8_l8_LeafWorkGroupWiskerPlot.txt};
	\addplot+ [color = black, opacity = 0.5] table[x = id, y = min, col sep=comma]{Data/amazonLumberyardInterior_b8_l8_LeafWorkGroupWiskerPlot.txt};
	\addplot+ [color = black, opacity = 0.5] table[x = id, y = max, col sep=comma]{Data/amazonLumberyardInterior_b8_l8_LeafWorkGroupWiskerPlot.txt};
	
	\addplot [
	fill=blue, 
	fill opacity=0.5
	]
	fill between[
	of=test1 and test2,
	];
	
	%	\legend{L4, L8, L12, L16}
	\end{axis}
	\end{tikzpicture}
\end{minipage}